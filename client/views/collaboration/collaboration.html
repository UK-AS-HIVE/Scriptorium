<template name="collaboration">

  <div class="page-wrapper">

    <!-- SIDEBAR -->
    <div class="sidebar">
      <h2><i class="fa fa-comments"></i> Collaboration</h2>
      <p>Manage and communicate with your team.</p>

      <!-- TEAM MANAGEMENT -->
      <ul class="team">
        <h3>Manage Team</h3>
      {{#each project.permissions}}
        <li>
          <b>{{user.fullName}}</b>
          <small>{{level}}</small>
          <span>
            <a href="#" data-toggle="modal" data-target="#editUserModal" class="edit" title="Edit"><i class="fa fa-pencil"></i></a>
            <a href="#" data-toggle="modal" data-target="#deleteUserModal" class="delete" title="Delete"><i class="fa fa-times"></i></a>
          </span>
        </li>
      {{/each}}
      <!--
        <li>
          <b>Abigail Firey</b>
          <small>Admin</small>
          <span>
            <a href="#" data-toggle="modal" data-target="#userModal" class="edit" title="Edit"><i class="fa fa-pencil"></i></a>
            <a href="#" data-toggle="modal" data-target="#deleteUserModal" class="delete" title="Delete"><i class="fa fa-times"></i></a>
          </span>
        </li>
        <li>
          <b>David Pearce</b>
          <small>Contributor</small>
          <span>
            <a href="#" data-toggle="modal" data-target="#userModal" class="edit" title="Edit"><i class="fa fa-pencil"></i></a>
            <a href="#" data-toggle="modal" data-target="#deleteUserModal" class="delete" title="Delete"><i class="fa fa-times"></i></a>
          </span>
        </li>
        <li>
          <b>Andy McDonald</b>
          <small>Contributor</small>
          <span>
            <a href="#" data-toggle="modal" data-target="#userModal" class="edit" title="Edit"><i class="fa fa-pencil"></i></a>
            <a href="#" data-toggle="modal" data-target="#deleteUserModal" class="delete" title="Delete"><i class="fa fa-times"></i></a>
          </span>
        </li>
      -->
      </ul>
      <a href="#" data-toggle="modal" data-target="#userModal" class="btn btn-primary btn-block"><i class="fa fa-plus"></i> Add New Team Member</a>
    </div>

    <!-- COMMENTS -->
    <ul class="page-list">
      <li>
        <div class="row">
          <div class="col-md-9">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search messages..."/>
              <span class="input-group-btn">
                <button class="btn btn-default" type="button"><i class="fa fa-search"></i></button>
              </span>
            </div>
          </div>
          <div class="col-md-3">
            <a href="#" data-toggle="modal" data-target="#newTopicModal" class="btn btn-default btn-block"><i class="fa fa-edit"></i> New Topic</a>
          </div>
        </div>
      </li>
      <li>
        <span class="post-unread">3</span>
        <div class="pull-left post-meta">
          <div><strong><a href="/collaboration/thread">Sample subject or topic</a></strong></div>
          <div><small>Lastest by Abigail Firey 24 minutes ago</small></div>
        </div>
        <div class="pull-right post-count">
          24 Posts
        </div>
      </li>
      <li>
        <span class="post-unread">10</span>
        <div class="pull-left post-meta">
          <div><strong><a href="/collaboration/thread">Sample subject or topic</a></strong></div>
          <div><small>Lastest by Abigail Firey 38 minutes ago</small></div>
        </div>
        <div class="pull-right post-count">
          4 Posts
        </div>
      </li>
      <li>
        <div class="pull-left post-meta">
          <div><strong><a href="/collaboration/thread">Sample subject or topic</a></strong></div>
          <div><small>Lastest by Abigail Firey 1 month ago</small></div>
        </div>
        <div class="pull-right post-count">
          10 Posts
        </div>
      </li>
    </ul>

  </div>

  <!-- ADD TEAM MEMBER MODAL -->
  <div class="modal fade" id="userModal">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-body">
          <form>
            <div class="form-group">
              <label>Email Address</label>
              <input type="email" class="form-control"/>
            </div>
            <div class="form-group">
              <label>Role</label>
              <select class="form-control">
                <option value="contributor">Contributor</option>
                <option value="admin">Admin</option>
              </select>
            </div>
          </form>
          <span class="error">{{modalError}}</span>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default closeMe" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary addUser"><i class="fa fa-plus"></i> Add User</button>
        </div>
      </div>
    </div>
  </div>

  <!-- EDIT TEAM MEMBER MODAL -->
  <div class="modal fade" id="editUserModal">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-body">
          <form>
            <div class="form-group">
              <h3>{{editingUser.fullName}}</h3>
              <h5>{{editingUser.primaryEmail}}</h5>
            </div>
            <div class="form-group">
              <label>Role</label>
              <select class="form-control role">
                <option value="contributor" selected="{{isRole 'contributor'}}">Contributor</option>
                <option value="admin" selected="{{isRole 'admin'}}">Admin</option>
              </select>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary save">Save User</button>
        </div>
      </div>
    </div>
  </div>

  <!-- REMOVE TEAM MEMBER MODAL -->
  <div class="modal fade" id="deleteUserModal">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-body">
          <p class="text-center">Are you sure you want to delete <b>{{editingUser.fullName}}</b> from the project?</p>
          <div class="row">
            <div class="col-xs-6">
              <button type="button" class="btn btn-block btn-default" data-dismiss="modal">Cancel</button>
            </div>
            <div class="col-xs-6">
              <button type="button" class="btn btn-block btn-danger"><i class="fa fa-times"></i> Delete</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- NEW TOPIC MODAL -->
  <div class="modal fade" id="newTopicModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          Add New Topic
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>Subject</label>
            <input type="text" class="form-control"/>
          </div>
          <div class="form-group">
            <label>Message</label>
            <textarea rows="5" class="form-control" placeholder="Add a message..."></textarea>
          </div>
          <div class="row">
            <div class="col-xs-6">
              <button type="button" class="btn btn-block btn-default" data-dismiss="modal">Cancel</button>
            </div>
            <div class="col-xs-6">
              <button type="button" class="btn btn-block btn-default"><i class="fa fa-edit"></i> Add Topic</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</template>
